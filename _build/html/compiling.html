

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Compiling GOMC &mdash; GOMC 2.31 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Input File Formats" href="input_file.html" />
    <link rel="prev" title="How to get the software" href="download.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GOMC
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_requirements.html">Software Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_tools.html">Recommended Software Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">How to get the software</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Compiling GOMC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-cmake">Configuring CMake</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="input_file.html">Input File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_file.html">GOMC’s Output Files, Terminal Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="putting_all_together.html">Putting it all together: Running a GOMC Simulation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GOMC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Compiling GOMC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/compiling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compiling-gomc">
<h1>Compiling GOMC<a class="headerlink" href="#compiling-gomc" title="Permalink to this headline">¶</a></h1>
<p>GOMC generates four executable files for CPU code; <code class="docutils literal notranslate"><span class="pre">GOMC_CPU_GEMC</span></code> (Gibbs ensemble), <code class="docutils literal notranslate"><span class="pre">GOMC_CPU_NVT</span></code> (NVT ensemble), <code class="docutils literal notranslate"><span class="pre">GOMC_CPU_NPT</span></code> (isobaric-isothermal ensemble), and <code class="docutils literal notranslate"><span class="pre">GOMC_CPU_GCMC</span></code> (Grand canonical ensemble). In case of installing CUDA Toolkit, GOMC will generate additional four executable files for GPU code; <code class="docutils literal notranslate"><span class="pre">GOMC_GPU_GEMC</span></code>, <code class="docutils literal notranslate"><span class="pre">GOMC_GPU_NVT</span></code>, <code class="docutils literal notranslate"><span class="pre">GOMC_GPU</span> <span class="pre">NPT</span></code>, and <code class="docutils literal notranslate"><span class="pre">GOMC_GPU_GCMC</span></code>.</p>
<p>This section guid users to compile GOMC in Linux or Windows.</p>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>First, navigate your command line to the GOMC base directory. To compile GOMC on Linux, give permission to “metamake.sh” by running the following command and execute it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ chmod u+x metamake.sh
$ ./metamake.sh
</pre></div>
</div>
<p>This script will create a bin directory and run cmake file to compile the code as well. All executable files will be generated in the “bin” directory.</p>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>To compile GOMC on in Windows, follow these steps:</p>
<ol class="arabic simple">
<li>Open the Windows-compatible CMake GUI.</li>
<li>Set the Source Folder to the GOMC root folder.</li>
<li>Set the build Folder to your Build Folder.</li>
<li>Click configure, select your compiler/environment</li>
<li>Wait for CMake to finish the configuration.</li>
<li>Click configure again and click generate.</li>
<li>Open the CMake-generated project/solution etc. to the desired IDE (e.g Visual Studio).</li>
<li>Using the solution in the IDE of choice build GOMC per the IDE’s standard release compilation/exe- cutable generation methods.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also use CMake from the Windows command line if its directory is added to the PATH environment variable.</p>
</div>
</div>
<div class="section" id="configuring-cmake">
<h2>Configuring CMake<a class="headerlink" href="#configuring-cmake" title="Permalink to this headline">¶</a></h2>
<p>GOMC uses CMAKE to generate multi-platform intermediate files to compile the project. In this section, you can find all the information needed to configure CMake.
We recommend using a different directory for the CMake output than the home directory of the project as CMake tend to generate lots of files.
CMake has a ridiculously expansive set of options, so this document will only reproduce the most obviously relevant ones. When possible, options should be passed into CMake via command line options rather than the CMakeCached.txt file:</p>
<dl class="docutils">
<dt>CMAKE_BUILD_TYPE</dt>
<dd><p class="first">To get the best performance you should build the project in release mode. In CMake GUI you can set the value of “CMAKE_BUILD_TYPE” to “Release” and in CMake command line you can add the following to the CMake:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release
</pre></div>
</div>
<p>To compile the GOMC in debug mode, in CMake GUI, change the value of “CMAKE_BUILD_TYPE” to “Debug” and in CMake command line you can add the following to the CMake:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug
</pre></div>
</div>
<p class="last">Other options are “&lt;None | ReleaseWithDebInfo | MinSizeRel&gt;”.</p>
</dd>
<dt>CMAKE_CXX_COMPILER</dt>
<dd>This option will set the compiler. It is recommended to use the Intel Compiler and linking tools, if possible (icc/icpc/etc.). They significantly outperform the default GNU and Visual Studio compiler tools and are available for free for academic use with registration.</dd>
<dt>CMAKE_CXX_FLAGS_RELEASE:STRING</dt>
<dd><p class="first">To run the parallel version of CPU code, it needs to be compiled with openmp library. Open the file “CMakeCache.txt”, while still in the “bin” folder, and change the value from “-O3 -DNDEBUG” to “-O3 -qopenmp -DNDEBUG”. Recompile the GOMC by typing the command:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make
</pre></div>
</div>
</dd>
<dt>ENSEMBLE_NVT</dt>
<dd>You can turn the compilation of CPU version of NVT ensemble on or off using this option.
-DENSEMBLE_NVT=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_NPT</dt>
<dd>You can turn the compilation of CPU version of NPT ensemble on or off using this option.
-DENSEMBLE_NPT=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GCMC</dt>
<dd>You can turn the compilation of CPU version of GCMC ensemble on or off using this option.
-DENSEMBLE_GCMC=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GEMC</dt>
<dd>You can turn the compilation of CPU version of GEMC ensemble on or off using this option.
-DENSEMBLE_GEMC=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GPU_NVT</dt>
<dd>You can turn the compilation of GPU version of NVT ensemble on or off using this option.
-DENSEMBLE_NVT=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GPU_NPT</dt>
<dd>You can turn the compilation of GPU version of NPT ensemble on or off using this option.
-DENSEMBLE_NPT=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GPU_GCMC</dt>
<dd>You can turn the compilation of GPU version of GCMC ensemble on or off using this option.
-DENSEMBLE_GCMC=&lt;On | Off&gt;</dd>
<dt>ENSEMBLE_GPU_GEMC</dt>
<dd>You can turn the compilation of GPU version of GEMC ensemble on or off using this option.
-DENSEMBLE_GEMC=&lt;On | Off&gt;</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="input_file.html" class="btn btn-neutral float-right" title="Input File Formats" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="download.html" class="btn btn-neutral" title="How to get the software" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, GOMC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.31',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>